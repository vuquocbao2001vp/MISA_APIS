{"ast":null,"code":"import axios from \"axios\";\nimport { mapMutations, mapActions, mapGetters } from \"vuex\";\nimport PopupAddUser from \"./PopupAddUser.vue\";\nexport default {\n  components: {\n    PopupAddUser\n  },\n  props: [\"isHide\", \"groupSelectedId\"],\n\n  data() {\n    return {\n      isHidePopup: true,\n      isHidePopupDelete: true,\n      popupDeleteText: \"\",\n      timeout: null,\n      textSearch: \"\",\n      checkUserToDelete: [],\n      listDeleteUser: [],\n      userOfGroupSelected: [],\n      deleteMode: null,\n      userDeleteId: null\n    };\n  },\n\n  computed: { ...mapGetters([\"groupSelected\"])\n  },\n  watch: {\n    groupSelectedId: function (value) {\n      if (value != null) {\n        this.getGroupDataById(value);\n        this.getUserDataOfGroupPaging(100, 1, value);\n      }\n    },\n    textSearch: function (value) {\n      this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId, value);\n    },\n    isHidePopup: function (value) {\n      if (value) {\n        this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId);\n      }\n    }\n  },\n  methods: { ...mapMutations([\"getGroupById\"]),\n    ...mapActions([\"getGroupDataById\"]),\n\n    /**\r\n     * Lấy ra từ khóa tìm kiếm sau khi nhập xong input\r\n     * Author; VQBao - 8/9/2022\r\n     */\n    getTextSearch(data) {\n      clearTimeout(this.timeout);\n      var self = this;\n      this.timeout = setTimeout(function () {\n        self.textSearch = data.value;\n      }, 500);\n    },\n\n    /**\r\n     * Ẩn dialog khi bấm vào icon tắt\r\n     * Author: VQBao - 30/8/2022\r\n     */\n    hideDialog() {\n      this.$emit(\"hideDialog\", true);\n    },\n\n    /**\r\n     * Khi click vào button thêm thành viên thì mở popup thêm thành viên\r\n     * Author: VQBao - 30/8/2022\r\n     */\n    addNewUser() {\n      this.hidePopup(false);\n    },\n\n    /**\r\n     * Ẩn hiện popup thêm thành viên\r\n     * Author: VQBao - 30/8/2022\r\n     */\n    hidePopup(isHide) {\n      this.isHidePopup = isHide;\n    },\n\n    /**\r\n     * Ẩn hiện popup thông báo\r\n     * Author: VQBao - 30/8/2022\r\n     */\n    hidePopupDelete(isHide, text) {\n      this.isHidePopupDelete = isHide;\n      this.popupDeleteText = text;\n    },\n\n    /**\r\n     * Khi click xóa\r\n     */\n    deleteUser(user, index) {\n      if (user == '' && index == '') {\n        this.deleteMode = 1;\n        this.hidePopupDelete(false, \"Bạn có chắc chắn muốn xóa những người dùng đang chọn không?\");\n      } else {\n        this.deleteMode = 2;\n        this.userDeleteId = user.UserID;\n        this.hidePopupDelete(false, \"Bạn có chắc chắn muốn xóa người dùng \" + user.FullName + \" không?\");\n      }\n    },\n\n    /**\r\n     * Thực hiện xóa nhiều người dùng ra khỏi nhóm\r\n     * Author: VQBao - 12/9/2022\r\n     */\n    async deleteMultiUserOfGroup() {\n      if (this.deleteMode == 1) {\n        if (this.listDeleteUser.length < this.userOfGroupSelected.length) {\n          try {\n            await axios.delete(`https://localhost:44382/api/v1/UserGroups/DeleteMultiUserOfGroup?groupId=` + this.groupSelectedId, {\n              data: this.listDeleteUser\n            }).then(() => {\n              this.checkUserToDelete = [];\n              this.listDeleteUser = [];\n              this.hideDialog();\n              this.$emit(\"loadData\");\n              this.$emit(\"hideToast\", \"Xóa người dùng thành công\");\n            });\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      } else {\n        try {\n          var listId = [];\n          listId.push(this.userDeleteId);\n          document.getElementById(\"loaderDialog\").style.display = \"block\";\n          await axios.delete(`https://localhost:44382/api/v1/UserGroups/DeleteMultiUserOfGroup?groupId=` + this.groupSelectedId, {\n            data: listId\n          }).then(() => {\n            let id = this.listDeleteUser.indexOf(this.userDeleteId);\n            this.listDeleteUser.splice(id, 1);\n            this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId);\n            this.$emit(\"loadData\", this.groupSelectedId);\n            this.$emit(\"hideToast\", \"Xóa người dùng thành công\");\n            document.getElementById(\"loaderDialog\").style.display = \"none\";\n          });\n        } catch (error) {\n          document.getElementById(\"loaderDialog\").style.display = \"none\";\n          console.log(error);\n        }\n      }\n    },\n\n    /**\r\n     * Lấy số lượng checkbox đang được check\r\n     * Author: VQBao - 12/9/2022\r\n     */\n    checkUserCheckbox(userId, index) {\n      if (this.checkUserToDelete[index]) {\n        this.listDeleteUser.push(userId);\n      } else {\n        let id = this.listDeleteUser.indexOf(userId);\n        this.listDeleteUser.splice(id, 1);\n      }\n\n      if (this.listDeleteUser.length > 0) {\n        document.getElementById(\"scrollBlock\").style.height = \"calc(100% - 278px)\";\n      } else {\n        document.getElementById(\"scrollBlock\").style.height = \"calc(100% - 226px)\";\n      }\n    },\n\n    /**\r\n     * Bỏ chọn tất cả các checkbox\r\n     * Author: VQBao - 12/9/2022\r\n     */\n    uncheckAllUser() {\n      this.checkUserToDelete = [];\n      this.listDeleteUser = [];\n    },\n\n    hideToast(text) {\n      this.$emit(\"hideToast\", text);\n    },\n\n    /**\r\n    * Phân trang tìm kiếm thành viên thuộc nhóm người dùng\r\n    * Author: VQBao - 8/9/2022\r\n    */\n    async getUserDataOfGroupPaging(pageSize, pageNumber, userGroupId, searchByText) {\n      document.getElementById(\"loaderDialog\").style.display = \"block\";\n\n      try {\n        await axios.get(`https://localhost:44382/api/v1/UserGroups/MemberOfGroupPaging`, {\n          params: {\n            pageSize: pageSize,\n            pageNumber: pageNumber,\n            userGroupId: userGroupId,\n            searchByText: searchByText\n          }\n        }).then(response => {\n          this.userOfGroupSelected = response.data.Data;\n          this.$emit(\"loadData\", this.groupSelectedId);\n          document.getElementById(\"loaderDialog\").style.display = \"none\";\n        });\n      } catch (error) {\n        document.getElementById(\"loaderDialog\").style.display = \"none\";\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","mapMutations","mapActions","mapGetters","PopupAddUser","components","props","data","isHidePopup","isHidePopupDelete","popupDeleteText","timeout","textSearch","checkUserToDelete","listDeleteUser","userOfGroupSelected","deleteMode","userDeleteId","computed","watch","groupSelectedId","value","getGroupDataById","getUserDataOfGroupPaging","methods","getTextSearch","clearTimeout","self","setTimeout","hideDialog","$emit","addNewUser","hidePopup","isHide","hidePopupDelete","text","deleteUser","user","index","UserID","FullName","deleteMultiUserOfGroup","length","delete","then","error","console","log","listId","push","document","getElementById","style","display","id","indexOf","splice","checkUserCheckbox","userId","height","uncheckAllUser","hideToast","pageSize","pageNumber","userGroupId","searchByText","get","params","response","Data"],"sourceRoot":"","sources":["E:\\MisaProject\\MISA_APIS\\misa_apis\\src\\screens\\establish\\userGroup\\DialogUserGroupDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"dialog-user-group-detail\" :class=\"{ hide: isHide }\">\r\n    <div class=\"icon-close-detail flex\" @click=\"hideDialog\">\r\n      <div class=\"icon-close\"></div>\r\n    </div>\r\n    <div class=\"top-block\">\r\n      <div class=\"group-title flex\">\r\n        <div class=\"group-name\">{{ groupSelected.UserGroupName }}</div>\r\n        <div class=\"group-status flex\">\r\n          <div class=\"active-dot\"></div>\r\n          Đang sử dụng\r\n        </div>\r\n      </div>\r\n      <div class=\"group-description\">{{ groupSelected.Description }}</div>\r\n      <div class=\"line-16\"></div>\r\n      <div class=\"group-member-text\">\r\n        Thành viên (<span>{{ userOfGroupSelected.length }}</span\r\n        >)\r\n      </div>\r\n      <div class=\"block-toolbar flex\">\r\n        <div class=\"block-input flex\">\r\n          <div class=\"icon-textbox\"></div>\r\n          <DxTextBox\r\n            class=\"control-textbox\"\r\n            placeholder=\"Tìm kiếm thành viên\"\r\n            value-change-event=\"keyup\"\r\n            @value-changed=\"getTextSearch\"\r\n          />\r\n        </div>\r\n        <div class=\"block-button-add\" @click=\"addNewUser\">\r\n          <BaseButton buttonType=\"icon\" buttonName=\"Thêm thành viên\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"block-navbar flex\" v-show=\"listDeleteUser.length > 0\">\r\n        <div class=\"selected-quantity\"><span>{{listDeleteUser.length}}</span> đang chọn</div>\r\n        <div class=\"disselect-span\" @click=\"uncheckAllUser\">Bỏ chọn</div>\r\n        <div class=\"delete-member-button\" @click=\"deleteUser('','')\">\r\n          <BaseButton buttonType=\"red\" buttonName=\"Loại bỏ thành viên\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"scrollBlock\" class=\"scroll-block\">\r\n      <BaseLoader id=\"loaderDialog\" />\r\n      <div\r\n        class=\"member-item flex\"\r\n        v-for=\"(user, index) in userOfGroupSelected\"\r\n        :key=\"user.UserID\"\r\n      >\r\n        <div class=\"member-item-checkbox\">\r\n          <div @click=\"checkUserCheckbox(user.UserID, index)\"><DxCheckBox v-model:value=\"checkUserToDelete[index]\"/></div>\r\n        </div>\r\n        <div class=\"member-image icon-center avatar-girl\"></div>\r\n        <div class=\"member-info\">\r\n          <div class=\"member-name flex\">\r\n            {{ user.FullName }} \r\n            <span v-if=\"user.Email != null\" class=\"flex\">(<div class=\"member-email\">{{ user.Email }}</div>)</span>\r\n          </div>\r\n          <div class=\"member-position flex\">\r\n            {{ user.JobPositionName }}\r\n            <span v-if=\"user.OrganizationUnitName != null\" class=\"flex\">&nbsp;- {{ user.OrganizationUnitName }}</span>\r\n            <span v-if=\"user.OrganizationName != null\" class=\"flex\">&nbsp;- {{ user.OrganizationName }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"item-delete-icon flex\" @click=\"deleteUser(user, index)\"><div class=\"icon-delete\"></div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <PopupAddUser :groupSelected=\"groupSelected\" :isHide=\"isHidePopup\" @hidePopup=\"hidePopup\" @hideToast=\"hideToast\" :userSelected=\"userOfGroupSelected\"/>\r\n  <BasePopup\r\n    :isHidePopup=\"isHidePopupDelete\"\r\n    title=\"Thông báo\"\r\n    :text=\"popupDeleteText\"\r\n    @confirmPopupAction=\"deleteMultiUserOfGroup\"\r\n    @hidePopup=\"hidePopupDelete\"\r\n  />\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapMutations, mapActions, mapGetters } from \"vuex\";\r\nimport PopupAddUser from \"./PopupAddUser.vue\";\r\nexport default {\r\n  components: {\r\n    PopupAddUser,\r\n  },\r\n  props: [\"isHide\", \"groupSelectedId\"],\r\n  data() {\r\n    return {\r\n      isHidePopup: true,\r\n      isHidePopupDelete: true,\r\n      popupDeleteText: \"\",\r\n      timeout: null,\r\n      textSearch: \"\",\r\n      checkUserToDelete: [],\r\n      listDeleteUser: [],\r\n      userOfGroupSelected: [],\r\n      deleteMode: null,\r\n      userDeleteId: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"groupSelected\"]),\r\n  },\r\n  watch: {\r\n    groupSelectedId: function (value) {\r\n      if (value != null) {\r\n        this.getGroupDataById(value);\r\n        this.getUserDataOfGroupPaging(100, 1, value)\r\n      }\r\n    },\r\n    textSearch: function (value) {\r\n      this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId, value);\r\n    },\r\n    isHidePopup: function(value){\r\n      if(value){\r\n        this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"getGroupById\"]),\r\n    ...mapActions([\"getGroupDataById\"]),\r\n    /**\r\n     * Lấy ra từ khóa tìm kiếm sau khi nhập xong input\r\n     * Author; VQBao - 8/9/2022\r\n     */\r\n    getTextSearch(data) {\r\n      clearTimeout(this.timeout);\r\n      var self = this;\r\n      this.timeout = setTimeout(function () {\r\n        self.textSearch = data.value;\r\n      }, 500);\r\n    },\r\n    /**\r\n     * Ẩn dialog khi bấm vào icon tắt\r\n     * Author: VQBao - 30/8/2022\r\n     */\r\n    hideDialog() {\r\n      this.$emit(\"hideDialog\", true);\r\n    },\r\n    /**\r\n     * Khi click vào button thêm thành viên thì mở popup thêm thành viên\r\n     * Author: VQBao - 30/8/2022\r\n     */\r\n    addNewUser() {\r\n      this.hidePopup(false);\r\n    },\r\n    /**\r\n     * Ẩn hiện popup thêm thành viên\r\n     * Author: VQBao - 30/8/2022\r\n     */\r\n    hidePopup(isHide) {\r\n      this.isHidePopup = isHide;\r\n    },\r\n    /**\r\n     * Ẩn hiện popup thông báo\r\n     * Author: VQBao - 30/8/2022\r\n     */\r\n    hidePopupDelete(isHide, text){\r\n      this.isHidePopupDelete = isHide;\r\n      this.popupDeleteText = text;\r\n    },\r\n    /**\r\n     * Khi click xóa\r\n     */\r\n    deleteUser(user, index){\r\n      if(user == '' && index == ''){\r\n        this.deleteMode = 1;\r\n        this.hidePopupDelete(false, \"Bạn có chắc chắn muốn xóa những người dùng đang chọn không?\")\r\n      } else {\r\n        this.deleteMode = 2;\r\n        this.userDeleteId = user.UserID;\r\n        this.hidePopupDelete(false, \"Bạn có chắc chắn muốn xóa người dùng \"+ user.FullName +\" không?\")\r\n      }\r\n    },\r\n    /**\r\n     * Thực hiện xóa nhiều người dùng ra khỏi nhóm\r\n     * Author: VQBao - 12/9/2022\r\n     */\r\n    async deleteMultiUserOfGroup(){\r\n      if(this.deleteMode == 1){\r\n        if(this.listDeleteUser.length < this.userOfGroupSelected.length){\r\n          try {\r\n            await axios.delete(`https://localhost:44382/api/v1/UserGroups/DeleteMultiUserOfGroup?groupId=` + this.groupSelectedId,{ data: this.listDeleteUser}).then(() => {\r\n              this.checkUserToDelete = [];\r\n              this.listDeleteUser = [];\r\n              this.hideDialog();\r\n              this.$emit(\"loadData\");\r\n              this.$emit(\"hideToast\", \"Xóa người dùng thành công\")\r\n            })\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        }\r\n      } else {\r\n        try {\r\n          var listId = [];\r\n          listId.push(this.userDeleteId);\r\n          document.getElementById(\"loaderDialog\").style.display = \"block\";\r\n          await axios.delete(`https://localhost:44382/api/v1/UserGroups/DeleteMultiUserOfGroup?groupId=` + this.groupSelectedId,{ data: listId}).then(() => {\r\n              let id = this.listDeleteUser.indexOf(this.userDeleteId);\r\n              this.listDeleteUser.splice(id, 1);\r\n              this.getUserDataOfGroupPaging(100, 1, this.groupSelectedId);\r\n              this.$emit(\"loadData\", this.groupSelectedId);\r\n              this.$emit(\"hideToast\", \"Xóa người dùng thành công\")\r\n              document.getElementById(\"loaderDialog\").style.display = \"none\";\r\n            })\r\n        } catch (error) {\r\n          document.getElementById(\"loaderDialog\").style.display = \"none\";\r\n          console.log(error);\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * Lấy số lượng checkbox đang được check\r\n     * Author: VQBao - 12/9/2022\r\n     */\r\n    checkUserCheckbox(userId, index){\r\n      if(this.checkUserToDelete[index]){\r\n        this.listDeleteUser.push(userId);\r\n      } else {\r\n        let id = this.listDeleteUser.indexOf(userId);\r\n        this.listDeleteUser.splice(id, 1);\r\n      }\r\n      if(this.listDeleteUser.length > 0){\r\n        document.getElementById(\"scrollBlock\").style.height = \"calc(100% - 278px)\";\r\n      } else {\r\n        document.getElementById(\"scrollBlock\").style.height = \"calc(100% - 226px)\";\r\n      }\r\n    },\r\n    /**\r\n     * Bỏ chọn tất cả các checkbox\r\n     * Author: VQBao - 12/9/2022\r\n     */\r\n    uncheckAllUser(){\r\n      this.checkUserToDelete = [];\r\n      this.listDeleteUser = [];\r\n    },\r\n    hideToast(text){\r\n      this.$emit(\"hideToast\", text)\r\n    },\r\n    /**\r\n   * Phân trang tìm kiếm thành viên thuộc nhóm người dùng\r\n   * Author: VQBao - 8/9/2022\r\n   */\r\n    async getUserDataOfGroupPaging(pageSize, pageNumber, userGroupId, searchByText) {\r\n      document.getElementById(\"loaderDialog\").style.display = \"block\";\r\n      try {\r\n        await axios\r\n          .get(`https://localhost:44382/api/v1/UserGroups/MemberOfGroupPaging`, {\r\n            params: {\r\n              pageSize: pageSize,\r\n              pageNumber: pageNumber,\r\n              userGroupId: userGroupId,\r\n              searchByText: searchByText\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.userOfGroupSelected = response.data.Data;\r\n            this.$emit(\"loadData\", this.groupSelectedId);\r\n            document.getElementById(\"loaderDialog\").style.display = \"none\";\r\n          });\r\n      } catch (error) {\r\n        document.getElementById(\"loaderDialog\").style.display = \"none\";\r\n        console.log(error);\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hide {\r\n  display: none !important;\r\n}\r\n.dialog-user-group-detail {\r\n  width: 663px;\r\n  height: 100vh;\r\n  box-shadow: 0 0 10px 0 rgb(0 0 0 / 10%);\r\n  z-index: 8;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  overflow: auto;\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n}\r\n.icon-close-detail {\r\n  position: absolute;\r\n  top: 24px;\r\n  right: 24px;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.icon-close-detail:hover {\r\n  background-color: rgb(220, 220, 220);\r\n}\r\n.group-name {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n}\r\n.group-title {\r\n  height: 24px;\r\n  box-sizing: border-box;\r\n}\r\n.group-status {\r\n  color: rgb(102, 209, 129);\r\n  font-weight: 700;\r\n  height: 24px;\r\n  box-sizing: border-box;\r\n}\r\n.active-dot {\r\n  height: 8px;\r\n  width: 8px;\r\n  border-radius: 50%;\r\n  background-color: rgb(102, 209, 129);\r\n  margin-right: 4px;\r\n  margin-left: 4px;\r\n}\r\n.group-description {\r\n  margin-top: 16px !important;\r\n}\r\n.line-16 {\r\n  margin-top: 40px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.group-member-text {\r\n  margin-top: 24px;\r\n  margin-bottom: 12px;\r\n  font-weight: 700;\r\n}\r\n.block-toolbar {\r\n  height: 36px;\r\n  position: relative;\r\n  margin-bottom: 16px;\r\n}\r\n.block-input {\r\n  width: 288px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n}\r\n.icon-textbox {\r\n  position: absolute;\r\n  content: \"\";\r\n  top: 9px;\r\n  left: 10px;\r\n  width: 18px;\r\n  height: 18px;\r\n  mask: url(\"../../../assets/Icons/Icon_request.0a9f1483.svg\") no-repeat -291px -4px;\r\n  background-color: #9fa4b4!important;\r\n  z-index: 1;\r\n}\r\n.control-textbox {\r\n  width: 100% !important;\r\n  padding-left: 28px;\r\n}\r\n.block-button-add {\r\n  position: absolute;\r\n  right: 0;\r\n}\r\n.block-navbar {\r\n  height: 36px;\r\n  margin-bottom: 16px;\r\n}\r\n.selected-quantity {\r\n  margin: 0 16px 0 0;\r\n}\r\n.disselect-span {\r\n  margin: 0 8px 0 0;\r\n  color: #13b2d8;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n.scroll-block {\r\n  position: relative;\r\n  height: calc(100% - 226px);\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow: auto;\r\n}\r\n.member-item {\r\n  height: 64px;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n.member-item:hover {\r\n  background-color: var(--primary-bg);\r\n}\r\n.member-item-checkbox {\r\n  height: 18px;\r\n  width: 18px;\r\n  box-sizing: border-box;\r\n  margin-right: 12px;\r\n}\r\n.member-image {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  margin-right: 12px;\r\n}\r\n.member-name {\r\n  color: #2c3e50;\r\n}\r\n.member-email {\r\n  color: #616767;\r\n}\r\n.member-position {\r\n  color: #616767;\r\n}\r\n.item-delete-icon {\r\n  position: absolute;\r\n  width: 24px;\r\n  height: 24px;\r\n  justify-content: center;\r\n  right: 16px;\r\n  cursor: pointer;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}