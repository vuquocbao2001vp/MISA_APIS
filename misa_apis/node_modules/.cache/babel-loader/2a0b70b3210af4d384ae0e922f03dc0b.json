{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-163a0b3b\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"popup-form\"\n};\nconst _hoisted_2 = {\n  class: \"popup-header\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"popup-header-title\"\n}, \"Chỉnh sửa nhóm\", -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon-close\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  class: \"popup-content\"\n};\nconst _hoisted_7 = {\n  class: \"user-detail flex\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"user-avatar icon-center avatar-girl\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"user-info\"\n};\nconst _hoisted_10 = {\n  class: \"user-name flex\"\n};\nconst _hoisted_11 = {\n  class: \"user-email\"\n};\nconst _hoisted_12 = {\n  class: \"user-position\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"user-group-text\"\n}, [/*#__PURE__*/_createTextVNode(\" Nhóm người dùng\"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"require-text\"\n}, \"*\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  class: \"popup-footer flex\"\n};\nconst _hoisted_15 = {\n  class: \"popup-footer-button flex\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_DxCheckBox = _resolveComponent(\"DxCheckBox\");\n\n  const _component_BaseButton = _resolveComponent(\"BaseButton\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"popup\", {\n      hide: $props.isHide\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", {\n    class: \"popup-header-close flex\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closePopup && $options.closePopup(...args))\n  }, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createTextVNode(_toDisplayString(_ctx.userSelected.FullName) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_11, \"(\" + _toDisplayString(_ctx.userSelected.Email) + \")\", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_ctx.userSelected.OrganizationName), 1\n  /* TEXT */\n  )])]), _hoisted_13, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.userGroups, (group, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"group-item flex\",\n      key: group.UserGroupID\n    }, [_createVNode(_component_DxCheckBox, {\n      modelValue: $data.checkGroup[index],\n      \"onUpdate:modelValue\": $event => $data.checkGroup[index] = $event,\n      text: group.UserGroupName\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\", \"onUpdate:modelValue\", \"text\"])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.closePopup && $options.closePopup(...args))\n  }, [_createVNode(_component_BaseButton, {\n    buttonType: \"white\",\n    buttonName: \"Hủy bỏ\"\n  })]), _createElementVNode(\"div\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.editGroupOfUser && $options.editGroupOfUser(...args))\n  }, [_createVNode(_component_BaseButton, {\n    buttonType: \"regular\",\n    buttonName: \"Lưu\"\n  })])])])])], 2\n  /* CLASS */\n  );\n}","map":{"version":3,"mappings":";;;;;EAESA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gEACTC,oBAAkD,IAAlD,EAAkD;EAA9CD,KAAK,EAAC;AAAwC,CAAlD,EAA+B,gBAA/B,EAA6C;AAAA;AAA7C;;gEAEEC,oBAA8B,KAA9B,EAA8B;EAAzBD,KAAK,EAAC;AAAmB,CAA9B,EAAuB,IAAvB,EAAuB;AAAA;AAAvB;;oBAAAE;;EAGCF,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gEACTC,oBAAuD,KAAvD,EAAuD;EAAlDD,KAAK,EAAC;AAA4C,CAAvD,EAAgD,IAAhD,EAAgD;AAAA;AAAhD;;;EACKA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EAEJA,KAAK,EAAC;;;EAERA,KAAK,EAAC;;;iEAGfC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAA4B,+BAAC,mBAAD,eACXC,oBAAmC,MAAnC,EAAmC;EAA7BD,KAAK,EAAC;AAAuB,CAAnC,EAA2B,GAA3B,CADW,CAA5B;;AAAA;;;EAcGA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;;;;uBAlCjBG,oBAwCM,KAxCN,EAwCM;IAxCDH,KAAK,mBAAC,OAAD,EAAQ;MAAAI,MAAiBC;IAAjB,CAAR;EAwCJ,CAxCN,GACEJ,oBAsCM,KAtCN,cAsCM,CArCJA,oBAKM,KALN,cAKM,CAJJK,UAII,EAHJL,oBAEM,KAFN,EAEM;IAFDD,KAAK,EAAC,yBAEL;IAFgCO,OAAK,yCAAEC,mDAAF;EAErC,CAFN,aAGI,CALN,CAqCI,EA/BJP,oBAwBM,KAxBN,cAwBM,CAvBJA,oBASM,KATN,cASM,CARJQ,UAQI,EAPJR,oBAMM,KANN,cAMM,CALJA,oBAGM,KAHN,eAGM,mCAFDS,kBAAaC,YAAW,KAC3B;EAAA;GACI,EADJV,oBAAwD,KAAxD,eAAwB,MAACW,iBAAGF,kBAAaG,KAAhB,CAAD,GAAyB,GAAjD,EAAkD;EAAA;EAAlD,CACI,CAHN,CAKI,EADJZ,oBAAoE,KAApE,eAAoEW,iBAAtCF,kBAAaI,gBAAyB,CAApE,EAA2D;EAAA;EAA3D,CACI,CANN,CAOI,CATN,CAuBI,EAbJC,WAaI,qBAVJZ,oBASMa,SATN,EASM,IATN,EASMC,YAPqBP,eAOrB,EAP+B,CAA3BQ,KAA2B,EAApBC,KAAoB,KAAf;yBAFtBhB,oBASM,KATN,EASM;MARJH,KAAK,EAAC,iBAQF;MANHoB,GAAG,EAAEF,KAAK,CAACG;IAMR,CATN,GAKEC,aAGEC,qBAHF,EAGE;kBAFSC,iBAAWL,KAAX,CAET;uCAFSK,iBAAWL,KAAX,IAAgBM,MAEzB;MADCC,IAAI,EAAER,KAAK,CAACS;IACb,CAHF;;IAAA,iDALF;GASM,CATN;;EAAA,CAUI,EAxBN,CA+BI,EANJ1B,oBAKM,KALN,eAKM,CAJJA,oBAGM,KAHN,eAGM,CAFJA,oBAAqF,KAArF,EAAqF;IAA/EM,OAAK,yCAAEC,mDAAF;EAA0E,CAArF,GAA0Bc,aAAqDM,qBAArD,EAAqD;IAAzCC,UAAU,EAAC,OAA8B;IAAtBC,UAAU,EAAC;EAAW,CAArD,EAA1B,CAEI,EADJ7B,oBAAwF,KAAxF,EAAwF;IAAlFM,OAAK,yCAAEC,6DAAF;EAA6E,CAAxF,GAA8Bc,aAAoDM,qBAApD,EAAoD;IAAxCC,UAAU,EAAC,SAA6B;IAAnBC,UAAU,EAAC;EAAQ,CAApD,EAA9B,CACI,CAHN,CAII,CALN,CAMI,CAtCN,EADF;;EAAA","names":["class","_createElementVNode","_hoisted_4","_createElementBlock","hide","$props","_hoisted_3","onClick","$options","_hoisted_8","_ctx","FullName","_toDisplayString","Email","OrganizationName","_hoisted_13","_Fragment","_renderList","group","index","key","UserGroupID","_createVNode","_component_DxCheckBox","$data","$event","text","UserGroupName","_component_BaseButton","buttonType","buttonName"],"sourceRoot":"","sources":["E:\\MisaProject\\MISA_APIS\\misa_apis\\src\\screens\\establish\\user\\PopupEditUserGroup.vue"],"sourcesContent":["<template>\r\n  <div class=\"popup\" :class=\"{ hide: isHide }\">\r\n    <div class=\"popup-form\">\r\n      <div class=\"popup-header\">\r\n        <h1 class=\"popup-header-title\">Chỉnh sửa nhóm</h1>\r\n        <div class=\"popup-header-close flex\" @click=\"closePopup\">\r\n          <div class=\"icon-close\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"popup-content\">\r\n        <div class=\"user-detail flex\">\r\n          <div class=\"user-avatar icon-center avatar-girl\"></div>\r\n          <div class=\"user-info\">\r\n            <div class=\"user-name flex\">\r\n              {{ userSelected.FullName }}\r\n              <div class=\"user-email\">({{ userSelected.Email }})</div>\r\n            </div>\r\n            <div class=\"user-position\">{{ userSelected.OrganizationName }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"user-group-text\">\r\n          Nhóm người dùng<span class=\"require-text\">*</span>\r\n        </div>\r\n        <div\r\n          class=\"group-item flex\"\r\n          v-for=\"(group, index) in userGroups\"\r\n          :key=\"group.UserGroupID\"\r\n        >\r\n          <DxCheckBox\r\n            v-model=\"checkGroup[index]\"\r\n            :text=\"group.UserGroupName\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"popup-footer flex\">\r\n        <div class=\"popup-footer-button flex\">\r\n          <div @click=\"closePopup\" ><BaseButton buttonType=\"white\" buttonName=\"Hủy bỏ\" /></div>\r\n          <div @click=\"editGroupOfUser\"><BaseButton buttonType=\"regular\" buttonName=\"Lưu\" /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapMutations, mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  props: [\"isHide\", \"userSelectedId\"],\r\n  data() {\r\n    return {\r\n      checkGroup: [],\r\n      listGroupId: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userSelected\", \"groupOfUserSelected\", \"userGroups\"]),\r\n  },\r\n  mounted() {\r\n    this.getAllGroupData();\r\n  },\r\n  watch: {\r\n    isHide: function (value) {\r\n      if (value == false) {\r\n        for (let m = 0; m < this.groupOfUserSelected.length; m++) {\r\n          for (let index = 0; index < this.userGroups.length; index++) {\r\n            if (this.groupOfUserSelected[m].UserGroupName == this.userGroups[index].UserGroupName) {\r\n              this.checkGroup[index] = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"getUserById\", \"getAllGroup\"]),\r\n    ...mapActions([\"getUserDataById\", \"getAllGroupData\"]),\r\n    /**\r\n     * Tắt popup khi click vào icon tắt\r\n     * Author: VQBao - 30/8/2022\r\n     */\r\n    closePopup() {\r\n      this.$emit(\"hidePopup\", true);\r\n    },\r\n    editGroupOfUser(){\r\n      for (let i = 0; i < this.checkGroup.length; i++) {\r\n        if(this.checkGroup[i] == true){\r\n          this.listGroupId.push(i+1);\r\n        }\r\n      }\r\n      console.log(this.listGroupId);\r\n      try {\r\n        axios.put(`https://localhost:44382/api/v1/Users/UpdateGroupOfUser`, this.listGroupId ,{\r\n          params: {\r\n            userId: this.userSelectedId,\r\n          },\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      this.$emit(\"hidePopup\", true);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hide {\r\n  display: none !important;\r\n}\r\n.popup {\r\n  transition: all 0.2s;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 100;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 1;\r\n  z-index: 100;\r\n  background: rgba(0, 0, 0, 0.4);\r\n}\r\n.popup-form {\r\n  background: rgb(255, 255, 255);\r\n  width: 496px;\r\n  min-width: 500px;\r\n  height: 550px;\r\n  border-radius: 6px;\r\n}\r\n.popup-header {\r\n  height: 53px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-radius: 8px 8px;\r\n  position: relative;\r\n  padding: 24px;\r\n  padding-bottom: 0;\r\n  min-height: 53px !important;\r\n  box-sizing: border-box;\r\n}\r\n.popup-header-title {\r\n  font-size: 24px;\r\n  letter-spacing: 0.384px !important;\r\n  font-weight: 700;\r\n  color: var(--text-primary-color);\r\n  margin: 0;\r\n}\r\n.popup-header-close {\r\n  height: 36px;\r\n  width: 36px;\r\n  justify-content: center;\r\n  position: absolute;\r\n  right: 16px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.popup-header-close:hover {\r\n  background-color: rgb(220, 220, 220);\r\n}\r\n.popup-content {\r\n  overflow: auto;\r\n  transition: all 0.23s ease 0.1s;\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 447px;\r\n}\r\n.user-detail {\r\n  height: 64px;\r\n  width: 100%;\r\n}\r\n.user-avatar {\r\n  width: 64px;\r\n  height: 64px;\r\n  border-radius: 50%;\r\n  box-sizing: border-box;\r\n  background-size: cover;\r\n}\r\n.user-info {\r\n  margin-left: 12px;\r\n}\r\n.user-name {\r\n  font-weight: 700;\r\n}\r\n.user-email {\r\n  padding-left: 2px;\r\n  font-weight: 400;\r\n}\r\n.user-group-text {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  margin: 16px 0;\r\n}\r\n.require-text {\r\n  color: #e54848;\r\n  padding-left: 2px;\r\n}\r\n.group-item {\r\n  height: 32px;\r\n  width: 100%;\r\n}\r\n.popup-footer {\r\n  height: 50px;\r\n  border-radius: 0 0 4px 4px;\r\n  border-top: 1px solid #dadce3;\r\n  justify-content: flex-end;\r\n  background: #f2f2f2;\r\n  padding: 12px 24px;\r\n  border-radius: 0 0 8px 8px;\r\n}\r\n.popup-footer-button {\r\n  margin-right: 12px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}